#labels Android,Suspendresume
=How to make suspend/resume to work=
  * change kernel/power/wake_lock.c function to remove the entry_event_num check at the end of suspend function
   {{{
diff --git a/kernel/power/wakelock.c b/kernel/power/wakelock.c index 7833d28..175f8a3 100644
--- a/kernel/power/wakelock.c
+++ b/kernel/power/wakelock.c
@@ -292,11 +292,13 @@ static void suspend(struct work_struct *work)
                        tm.tm_year + 1900, tm.tm_mon + 1, tm.tm_mday,
                        tm.tm_hour, tm.tm_min, tm.tm_sec, ts.tv_nsec);
        }
+#if 0
        if (current_event_num == entry_event_num) {
                if (debug_mask & DEBUG_SUSPEND)
                        pr_info("suspend: pm_suspend returned with no event\n");
                wake_lock_timeout(&unknown_wakeup, HZ / 2);
        }
+#endif
 }
 static DECLARE_WORK(suspend_work, suspend);

   }}}
  * rebuild kernel (see [BuildAndroidForX86Platforms#How_to_rebuild_kernel here] for details)
  * add acpi_sleep=s3_bios,s3_mode in kernel command line
    eg, in grub.cfg (assume you are using grub2) :
   {{{
    menuentry "Android Vesa 9xx" {
            insmod 915resolution
            915resolution 45 1024 600
            linux /boot/kernel-vesa root=/dev/sdc2 rootdelay=6 rw init=/init androidboot.hardware=eee_701 vga=791 acpi_sleep=s3_bios,s3_mode
    }
   }}}
  * boot android and set screen timeout to whatever value you want.
  * wait machine to suspend.
  * use fn + f6 to wake up the machine.

NOTE: you can wake up your machine by hit on any key. Somehow, on my 1000H, the screen brightness is set to the lowest level after the machine resumed. I have to use fn+f6 to turn the brightness back on.